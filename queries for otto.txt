-Βρές ποιά φάρμακα χρησιμοποιούνται κυρίως από γηραιότερους ασθενείς.

	SELECT name, formula FROM Drug
	    WHERE (SELECT avg(age) FROM Patient
	    	WHERE Patient.id = ANY(SELECT patient_id FROM Prescription
			WHERE Prescription.drug_id = ANY(SELECT id FROM Drug))) > 50;

-Δείξε μου τον αριθμό των Συμβολαίων της κάθε Φαρμακευτικής, που ξεκινούν πριν από τη δοθείσα ημερομηνία:

GROUP_BY = """
SELECT COUNT(id)
FROM Contract
GROUP BY bigpharma_id;
HAVING start_date < %s;
"""

-Δείξε μου τον αριθμό των Συμβολαίων της κάθε Φαρμακευτικής, που λήγουν πριν από τη δοθείσα ημερομηνία:

GROUP_BY = """
SELECT COUNT(id)
FROM Contract
GROUP BY bigpharma_id;
HAVING end_date < %s;
"""

-Δείξε μου τους Γιατρούς που έχουν μέσο όρο ηλικίας Ασθενών μεγαλύτερο των 50 ετών:

CREATE VIEW DoctorsWithOldPatients AS
SELECT name FROM Doctor
    WHERE (SELECT avg(age) FROM Patient WHERE Patient.doctor_id = Doctor.id) > 50;


